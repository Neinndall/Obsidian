<MudStack Spacing="0">
    <MudField FullWidth Label="@Label" Variant="Variant.Filled">
        <MudStack Row AlignItems="AlignItems.Center">
            <MudIconButton Icon="@Icons.Material.TwoTone.FolderOpen"
                           Variant="Variant.Filled" Color="Color.Primary"
                           OnClick="OnSelectDirectory" />
            @if (string.IsNullOrEmpty(Directory) is false)
            {
                <MudText Class="flex-grow-1">@Directory</MudText>
                <MudIconButton Icon="@Icons.Material.TwoTone.Close" Size="Size.Small"
                           OnClick="@OnClearDirectory" />
            }
        </MudStack>
    </MudField>
    @if (DescriptionContent is not null)
    {
        <MudAlert Dense Severity="Severity.Info" Style="border-top-left-radius: 0px; border-top-right-radius: 0px;">
            <MudText>
                @DescriptionContent
            </MudText>
        </MudAlert>
    }
</MudStack>

@code {
    [Parameter]
    public string Label { get; set; }

    [Parameter]
    public string Directory { get; set; }

    [Parameter]
    public RenderFragment DescriptionContent { get; set; }

    [Parameter]
    public EventCallback OnClearDirectory { get; set; }

    [Parameter]
    public EventCallback OnSelectDirectory { get; set; }
}
